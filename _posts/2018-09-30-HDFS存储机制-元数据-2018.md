---
layout:     post
title:      hadoop机制-元数据管理
subtitle:   介绍元数据管理机制
date:       2018-09-30
author:     政
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - hadoop
    - java
---

# 综述

### 传统的HDFS

​	Hadoop分布式存储系统主要组成部分包括*Namenode*、*Datanode* 、Adapter、zookeeper，存储访问方式大体上分为两种，客户端访问和FsShell两种方式。

- *Namenode*：管理文件系统的命名空间。它维护着文件系统树及整棵树内所有的文件和目录。同时还记录着每个文件中各个block所对应dn(*Datandoe*)信息，即通过访问nn（*Namenode*）我们就可以获得你所需要的文件所存储的具体位置。

- *Datanode*：文件block实际存储的位置。每个文件被分为若干个block，文件存储的粒度为block，每个block备分散存储于不同的三个dn。

### 改进的HDFS

​	HDFS中单namenode 架构无法满足海量文件存储及大吞吐量的需求，因此将单点的namenode 拆分成由Namespace 和多个FMS 组成的架构。

- Namespace：支持对文件系统中的目录、文件做类似文件系统的增删改查等基本操作。只进行目录树管理，记录文件名、目录的修改时间及访问时间、目录的副本数及目录的空间用量、目录的权限、目录的孩子列表、文件objectID 等信息；

- FMS：维护文件分块及其副本信息，记录文件名、父亲目录、修改时间、访问时间、副本数、目录的孩子信息、目录的空间用量、文件的分块信息、文件的预计分块大小、文件的源dn 等信息；

整体架构图如下：

![HDFS整体架构](/img/HDFS/HDFS整体架构.png)

待更～ 
[google]: http://google.com/        "Google"
